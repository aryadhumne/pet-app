{% extends "base.html" %}
{% block content %}

<div class="container mt-4">
    <h2 class="text-center mb-4">Pets & Breed Information</h2>

    <!-- ✅ PET TYPES -->
    <div class="d-flex justify-content-center gap-4 flex-wrap">
        {% for pet in pet_types %}
        <div class="text-center">
            <img src="{{ url_for('static', filename='images/' + pet.image) }}"
                 onclick="showBreeds({{ pet.id }})"
                 style="width:120px;height:120px;cursor:pointer;border-radius:10px;">
            <p><strong>{{ pet.name }}</strong></p>
        </div>
        {% endfor %}
    </div>

    <hr>

    <!-- ✅ BREEDS -->
    <div id="breeds-section" class="d-flex justify-content-center gap-4 flex-wrap mt-4"></div>

    <hr>

    <!-- ✅ BREED DETAILS -->
    <div id="breed-detail" class="text-center mt-4"></div>
</div>

<script>
function showBreeds(petTypeId) {
    let allBreeds = {{ breeds | tojson }};
    let html = "";

    allBreeds.forEach(breed => {
        if (breed.pet_type_id === petTypeId) {
            html += `
            <div class="text-center">
                <img src="/static/images/${breed.image}"
                     onclick="showBreedDetail(${breed.id})"
                     style="width:120px;height:120px;cursor:pointer;border-radius:10px;">
                <p>${breed.name}</p>
            </div>
            `;
        }
    });

    document.getElementById("breeds-section").innerHTML = html;
    document.getElementById("breed-detail").innerHTML = "";
}

function showBreedDetail(breedId) {
    let allBreeds = {{ breeds | tojson }};
    let html = "";

    allBreeds.forEach(breed => {
        if (breed.id === breedId) {
            html = `
                <h3>${breed.name}</h3>
                <img src="/static/images/${breed.image}" width="200">
                <p><strong>Habitat:</strong> ${breed.habitat}</p>
                <p><strong>Description:</strong> ${breed.description}</p>
            `;
        }
    });

    document.getElementById("breed-detail").innerHTML = html;
}
</script>

{% endblock %}
